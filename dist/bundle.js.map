{"version":3,"sources":["webpack:///webpack/bootstrap 66ed70c87beab8711819","webpack:///./src/app.ts","webpack:///./src/Location.ts","webpack:///./src/Grid.ts","webpack:///./src/Battlefield.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 66ed70c87beab8711819","import Location from './Location';\r\nimport Grid from './Grid';\r\nimport Battlefield from './Battlefield';\r\nimport * as io from 'socket.io-client';\r\n\r\n\r\nvar socket = io();\r\n\r\nvar grid = new Grid(20, 15, 50);\r\n\r\nvar canvas =  <HTMLCanvasElement> document.getElementById(\"battlefield\");\r\n\r\nvar battlefield = new Battlefield(canvas, grid);\r\n\r\nvar ranger = new Location(3,3);\r\nvar pet = new Location(3,4);\r\n\r\nvar controlled_entities : [Location] = [ranger, pet];\r\nvar selected_entity = ranger;\r\n\r\ndocument.addEventListener(\"keydown\", (event) => {\r\n\tvar updated = true; \r\n\r\n\tif(event.key === 'Tab'){\r\n\t\tevent.preventDefault();\r\n\t\tvar i = controlled_entities.indexOf(selected_entity) + 1;\r\n\t\tif (i >= controlled_entities.length){\r\n\t\t\ti = 0;\r\n\t\t}\r\n\r\n\t\tselected_entity = controlled_entities[i];\r\n\t}else if(event.key === 'ArrowRight'){\r\n\t\tevent.preventDefault();\r\n\t\tselected_entity.x += 1;\r\n\t\tif(selected_entity.x > battlefield.grid.columns){\r\n\t\t\tselected_entity.x = battlefield.grid.columns;\r\n\t\t}\r\n\t}else if(event.key === 'ArrowLeft'){\r\n\t\tevent.preventDefault();\r\n\t\tselected_entity.x -= 1;\r\n\t\tif(selected_entity.x < 1){\r\n\t\t\tselected_entity.x = 1;\r\n\t\t}\r\n\t}else if(event.key === 'ArrowUp'){\r\n\t\tevent.preventDefault();\r\n\t\tselected_entity.y -= 1;\r\n\t\tif(selected_entity.y < 1){\r\n\t\t\tselected_entity.y = 1;\r\n\t\t}\r\n\t}else if(event.key === 'ArrowDown'){\r\n\t\tevent.preventDefault();\r\n\t\tselected_entity.y += 1;\r\n\t\tif(selected_entity.y > battlefield.grid.rows){\r\n\t\t\tselected_entity.y = battlefield.grid.rows;\r\n\t\t}\r\n\t}else{ \r\n\t\tupdated = false;\r\n\t}\r\n\r\n\tif(updated){\r\n\t\tbattlefield.draw(selected_entity);\r\n\t}\r\n})\r\n\r\nbattlefield.addEntity(ranger);\r\nbattlefield.addEntity(pet);\r\n\r\nbattlefield.draw(selected_entity);\n\n\n// WEBPACK FOOTER //\n// ./src/app.ts","export default class Location{\r\n\tconstructor(public x:number, public y:number){}\r\n\r\n\tdraw(canvas: HTMLCanvasElement){\r\n\t\tvar context = canvas.getContext('2d')\r\n\r\n\t\t\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Location.ts","export default class Grid{\r\n\tconstructor(public columns: number, public rows: number, public cell_size: number){}\r\n\t\r\n\twidth(){\r\n\t\treturn this.columns * this.cell_size;\r\n\t}\r\n\r\n\theight(){\r\n\t\treturn this.rows * this.cell_size;\r\n\t}\r\n\r\n\tdraw(context: CanvasRenderingContext2D){\r\n\t\t\r\n\t\t\r\n\t\tfor (var x = 0; x <= this.columns * this.cell_size; x += this.cell_size) {\r\n\t\t    context.moveTo(x, 0);\r\n\t\t    context.lineTo(x, this.rows * this.cell_size);\r\n\t\t}\r\n\r\n\r\n\t\tfor (var y = 0; y <= this.rows * this.cell_size; y += this.cell_size) {\r\n\t\t    context.moveTo(0, y);\r\n\t\t    context.lineTo(this.columns*this.cell_size, y);\r\n\t\t}\r\n\r\n\t\tcontext.strokeStyle = \"grey\";\r\n\t\tcontext.stroke();\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Grid.ts","import Location from './Location';\r\nimport Grid from './Grid';\r\n\r\nexport default class Battlefield {\r\n\tprivate entities: Location[];\r\n\r\n\tconstructor(private canvas: HTMLCanvasElement, public grid: Grid){\r\n\t\tthis.canvas.width = this.grid.width();\r\n\t\tthis.canvas.height = this.grid.height();\t\r\n\t\tthis.entities = [];\r\n\t}\r\n\r\n\taddEntity(entity: Location){\r\n\t\tthis.entities.push(entity);\r\n\t}\r\n\r\n\tdraw(selected_entity: Location){\r\n\t\tvar context = this.canvas.getContext('2d')\r\n\t\tcontext.clearRect(0, 0, this.canvas.width, this.canvas.height);\r\n\r\n\t\tthis.entities.forEach((entity: Location) => {\r\n\t\t\tcontext.beginPath();\r\n\t\t\tcontext.arc(entity.x * this.grid.cell_size - this.grid.cell_size /2, entity.y * this.grid.cell_size - this.grid.cell_size /2, this.grid.cell_size/2, 0, 2 * Math.PI, false);\r\n\t   \t\tcontext.closePath();\r\n\r\n\t   \t\tif(entity === selected_entity){\r\n\t   \t\t\tcontext.fillStyle = 'green';\t\r\n\t\t\t}else{\r\n\t\t   \t\tcontext.fillStyle = 'red';\r\n\t\t   \t}\r\n\t\t\r\n\t\t    context.fill();\r\n\t\t\r\n\t\t})\r\n\r\n\t\tthis.grid.draw(context);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/Battlefield.ts"],"sourceRoot":""}